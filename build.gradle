apply plugin: 'java'

repositories {
    jcenter()
	mavenCentral()
}

sourceCompatibility = 1.8

jar {
    manifest {
        attributes 'Implementation-Version': '0.1.0',
                'Built-By': System.getProperty('user.name'),
                'Built-Date': new Date(),
                'Built-JDK': System.getProperty('java.version'),
                'Main-Class': 'com.github.u3games.eventengine.EventEngineManager'
    }
    archiveName = 'L2J_EventEngine.jar'
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.13'
    compile 'com.google.code.gson:gson:2.2.4'
	compile fileTree(dir: './libs', include: '*.jar')

    testCompile 'junit:junit:4.12'
}

task zip(type: Zip) {
	def fileName = 'L2J_EventEngine_' + new Date().format("yyyy-MM-dd")
	baseName = fileName
	from('dist')
	into('libs') {
		from(jar)
	}
	println 'Build in build/distributions/' + fileName + '.zip'
}

build.finalizedBy(zip)